<!DOCTYPE html>
<html>
<head>
    <title>Sepia | Damon's Surprise!</title>
    
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

    <link rel="stylesheet" href="css/style.css">
    
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>

<body style="background-color: #dee2e8">
    
    <div id="loader-wrapper">
		<div id="loader"></div>
	
        <div class="loader-section section-left"></div>
        <div class="loader-section section-right"></div>

    </div>
    
    <div class="col s12" style="max-height:100vh;overflow:hidden;padding:0px;">
        <div class="row">
            <div class="col s12 l8" style="padding:0px;background-image:url(damons-stuff/------IMAGE------.jpg);background-size:cover;background-position:center center;">
                <div style="width: 100%;height:100vh;">
                </div>
            </div>
            <div class="col s12 l4" style="padding:0px;">
                <div class="row" style="height:30vh;background-color:#5b4f57;margin:0px;">
                </div>
                <div class="row" style="padding:0px;">
                    <div class="row" style="height:70vh;background-color:#f5f5f5;">
                        <div class="column add-bottom">
                            <div id="mainwrap">
                                <div id="nowPlay">
                                    <span class="left" id="npAction">Paused...</span>
                                    <span class="right" id="npTitle"></span>
                                </div>
                                <div id="audiowrap">
                                    <div id="audio0">
                                        <audio preload id="audio1" controls="controls">Your browser does not support HTML5 Audio!</audio>
                                    </div>
                                </div>
                                <div id="plwrap">
                                    <ul id="plList"></ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    
    
    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="js/jquery.min.js"></script>
    
    <script type="text/javascript" src="js/materialize.min.js"></script>
    
    <script>        
        // Load Screen
        $(window).bind('load', function() {
            setTimeout(function(){
                $('body').addClass('loaded');
                $('h1').css('color','#222222');
            });
        });
        
        // html5media enables <video> and <audio> tags in all major browsers
        // External File: http://api.html5media.info/1.1.8/html5media.min.js


        // Add user agent as an attribute on the <html> tag...
        // Inspiration: http://css-tricks.com/ie-10-specific-styles/
        var b = document.documentElement;
        b.setAttribute('data-useragent', navigator.userAgent);
        b.setAttribute('data-platform', navigator.platform);


        // HTML5 audio player + playlist controls...
        // Inspiration: http://jonhall.info/how_to/create_a_playlist_for_html5_audio
        // Mythium Archive: https://archive.org/details/mythium/
        jQuery(function ($) {
            var supportsAudio = !!document.createElement('audio').canPlayType;
            if (supportsAudio) {
                var index = 0,
                    playing = false,
                    mediaPath = 'https://archive.org/download/Sepia_IU/',
                    extension = '',
                    tracks = [{
                        "track": 1,
                        "name": "Good Day - IU",
                        "length": "3:55",
                        "file": "IU - Good Day"
                    }, {
                        "track": 2,
                        "name": "YOU&I - IU",
                        "length": "3:58",
                        "file": "IU - You & I"
                    }, {
                        "track": 3,
                        "name": "Heart - IU",
                        "length": "2:47",
                        "file": "IU - Heart"
                    }, {
                        "track": 4,
                        "name": "Twenty-FOUR - IU",
                        "length": "3:14",
                        "file": "IU - Twenty-three"
                    }],
                    buildPlaylist = $.each(tracks, function(key, value) {
                        var trackNumber = value.track,
                            trackName = value.name,
                            trackLength = value.length;
                        if (trackNumber.toString().length === 1) {
                            trackNumber = '0' + trackNumber;
                        } else {
                            trackNumber = '' + trackNumber;
                        }
                        $('#plList').append('<li><div class="plItem"><div class="plNum">' + trackNumber + '.</div><div class="plTitle">' + trackName + '</div><div class="plLength">' + trackLength + '</div></div></li>');
                    }),
                    trackCount = tracks.length,
                    npAction = $('#npAction'),
                    npTitle = $('#npTitle'),
                    audio = $('#audio1').bind('play', function () {
                        playing = true;
                        npAction.text('Now Playing...');
                    }).bind('pause', function () {
                        playing = false;
                        npAction.text('Paused...');
                    }).bind('ended', function () {
                        npAction.text('Paused...');
                        if ((index + 1) < trackCount) {
                            index++;
                            loadTrack(index);
                            audio.play();
                        } else {
                            audio.pause();
                            index = 0;
                            loadTrack(index);
                        }
                    }).get(0),
                    li = $('#plList li').click(function () {
                        var id = parseInt($(this).index());
                        if (id !== index) {
                            playTrack(id);
                        }
                    }),
                    loadTrack = function (id) {
                        $('.plSel').removeClass('plSel');
                        $('#plList li:eq(' + id + ')').addClass('plSel');
                        npTitle.text(tracks[id].name);
                        index = id;
                        audio.src = mediaPath + tracks[id].file + extension;
                    },
                    playTrack = function (id) {
                        loadTrack(id);
                        audio.play();
                    };
                extension = audio.canPlayType('audio/mpeg') ? '.mp3' : audio.canPlayType('audio/ogg') ? '.ogg' : '';
                loadTrack(index);
            }
        });
    </script>
</body>
</html>